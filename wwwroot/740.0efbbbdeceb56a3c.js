"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[740],{3740:(I,g,i)=>{i.r(g),i.d(g,{AdminModule:()=>p});var d=i(6895),n=i(433),t=i(1571),A=i(8232),h=i(7185),T=i(5019);function v(o,r){if(1&o&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function b(o,r){if(1&o&&(t.TgZ(0,"ul",12),t.YNc(1,v,2,1,"li",13),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIfOf",e.errors)}}class a{constructor(r,e,u){this.formbuilder=r,this.productsService=e,this.toastr=u,this.errors=null,this.productForm=this.formbuilder.group({prodName:["",n.kI.required],prodPicture:["",n.kI.required],prodDescription:["",n.kI.required],prodPrice:["",n.kI.required],productBrand:["",n.kI.required],productTypes:["",n.kI.required]})}onSubmit(){this.productsService.UploadProduct(this.productForm.value).subscribe({next:()=>{window.location.reload(),this.toastr.success("Product uploaded")},error:r=>{this.toastr.success("Not uploaded"),this.errors=r.errors}})}}a.\u0275fac=function(r){return new(r||a)(t.Y36(n.qu),t.Y36(A.h),t.Y36(h._W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-items"]],decls:22,vars:15,consts:[[2,"background-color","lightgray","padding-bottom","40px"],[1,"align-content-left"],["mat-dialog-close","",1,"btn","btn-danger",2,"margin-top","15px","margin-left","5px"],[1,"text-center",2,"color","blue"],[1,"d-flex","justify-content-center"],[1,"col-3"],[3,"formGroup","ngSubmit"],[1,"text-center","mt-5"],[3,"formControl","label"],["class","text-danger list-unstyled",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-lg","btn-success",2,"margin-top","10px",3,"disabled"],[1,"text-danger","list-unstyled"],[4,"ngIf","ngIfOf"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3," x "),t.qZA()(),t.TgZ(4,"div",3)(5,"h1"),t._uU(6,"Product Upload Page"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"form",6),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(10,"div",7),t._UZ(11,"app-text-inputs",8)(12,"app-text-inputs",8)(13,"app-text-inputs",8)(14,"app-text-inputs",8)(15,"app-text-inputs",8)(16,"app-text-inputs",8),t.qZA(),t.TgZ(17,"div"),t.YNc(18,b,2,1,"ul",9),t.qZA(),t.TgZ(19,"div",10)(20,"button",11),t._uU(21," Upload Product "),t.qZA()()()()()()),2&r&&(t.xp6(9),t.Q6J("formGroup",e.productForm),t.xp6(2),t.Q6J("formControl",e.productForm.controls.prodName)("label","Product Name"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.prodPicture)("label","Product Picture"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.prodDescription)("label","Product Description"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.prodPrice)("label","Price"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.productBrand)("label","Brand"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.productTypes)("label","Type"),t.xp6(2),t.Q6J("ngIf",e.errors),t.xp6(2),t.Q6J("disabled",e.productForm.invalid))},dependencies:[d.O5,n._Y,n.JJ,n.JL,n.oH,n.sg,T.x]});var Z=i(5989),f=i(1330),c=i(202);function x(o,r){1&o&&(t.ynx(0),t.TgZ(1,"strong",12),t._uU(2,"No order(s)"),t.qZA(),t.BQk())}function q(o,r){if(1&o&&(t.TgZ(0,"tr",13)(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA()()),2&o){const e=r.$implicit;t.MGl("routerLink","/Admin/",e.id,""),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.hij("",e.shippingAddress.firstName+" "+e.shippingAddress.middleName+" "+e.shippingAddress.lastName," "),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(e.shippingAddress.phone),t.xp6(2),t.Oqu(t.xi3(11,7,e.orderDate,"medium")),t.xp6(3),t.Oqu(e.orderStatus)}}class l{constructor(r,e){this.matdialog=r,this.orderservice=e,this.admin="",this.customerName="",this.confirm=!1}ngOnInit(){this.GetPaidOrders()}openUploadProduct(){this.matdialog.open(a,{height:"70%",width:"50%"})}GetPaidOrders(){this.orderservice.GetAdminOrders().subscribe({next:r=>{console.log(r),this.adminOrders=r}})}confirmer(){this.confirm=!0}}l.\u0275fac=function(r){return new(r||l)(t.Y36(Z.uw),t.Y36(f.N))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-admin"]],decls:30,vars:2,consts:[[1,"admin"],[1,"text-center"],[2,"color","purple","font-weight","bolder"],[1,"container","mt-5",2,"margin-top","200px"],[1,"row"],[1,"col-12"],[1,"table","table-hover",2,"cursor","pointer"],[1,"thead-light"],[4,"ngIf"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"text-center",2,"margin-bottom","300px"],[1,"btn","btn-primary","mt-5",3,"click"],[2,"color","red"],[3,"routerLink"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"h1",1)(2,"strong",2),t._uU(3," You are the Admin"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"table",6)(8,"thead",7)(9,"tr")(10,"th"),t._uU(11,"ORDER"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"CUSTOMER NAME"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"CUSTOMER EMAIL"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"CUSTOMER PHONE"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"DATE"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"STATUS"),t.qZA()()(),t.TgZ(22,"tbody")(23,"tr")(24,"div",1),t.YNc(25,x,3,0,"ng-container",8),t.qZA()(),t.YNc(26,q,14,10,"tr",9),t.qZA()()()()(),t.TgZ(27,"div",10)(28,"button",11),t.NdJ("click",function(){return e.openUploadProduct()}),t._uU(29," Upload new product here "),t.qZA()()()),2&r&&(t.xp6(25),t.Q6J("ngIf",0==e.adminOrders.length),t.xp6(1),t.Q6J("ngForOf",e.adminOrders))},dependencies:[d.sg,d.O5,c.rH,d.uU],styles:[".admin[_ngcontent-%COMP%]{margin-top:100px}.container[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;overflow:scroll;margin-left:auto;border:2px solid black;border-radius:10px;background-color:#f5fffa;position:relative}"]});var U=i(8909);function O(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"th",19)(2,"div",20),t._UZ(3,"img",21),t.TgZ(4,"div",22)(5,"h5",23),t._uU(6),t.qZA()()()(),t.TgZ(7,"td",24)(8,"strong"),t._uU(9),t.qZA()(),t.TgZ(10,"td",24)(11,"span",25),t._uU(12),t.qZA()(),t.TgZ(13,"td",24)(14,"strong"),t._uU(15),t.qZA()()()),2&o){const e=r.$implicit;t.xp6(3),t.s9C("src",e.prodPicture,t.LSH),t.s9C("alt",e.prodName),t.xp6(3),t.hij(" ",e.prodName," "),t.xp6(3),t.hij("\xa3",e.itemPrice,""),t.xp6(3),t.Oqu(e.quantity),t.xp6(3),t.hij("\xa3",e.itemPrice*e.quantity,"")}}function _(o,r){if(1&o&&(t.TgZ(0,"div",8)(1,"div",9)(2,"div")(3,"div",10)(4,"table",11)(5,"thead")(6,"tr")(7,"th",12)(8,"div",13),t._uU(9,"Product"),t.qZA()(),t.TgZ(10,"th",12)(11,"div",14),t._uU(12,"Price"),t.qZA()(),t.TgZ(13,"th",12)(14,"div",14),t._uU(15,"Quantity"),t.qZA()(),t.TgZ(16,"th",12)(17,"div",14),t._uU(18,"Total"),t.qZA()()()(),t.TgZ(19,"tbody"),t.YNc(20,O,16,6,"tr",15),t.qZA()()()()(),t.TgZ(21,"div",16)(22,"div",17),t._uU(23,"Delivery details "),t.qZA(),t.TgZ(24,"div")(25,"div",18)(26,"p")(27,"strong",3),t._uU(28,"Delivery Name: "),t.qZA(),t.TgZ(29,"strong",4),t._uU(30),t.qZA()(),t.TgZ(31,"p")(32,"strong",3),t._uU(33,"Delivery time: "),t.qZA(),t.TgZ(34,"strong",4),t._uU(35),t.qZA()()()()()()),2&o){const e=t.oxw();t.xp6(20),t.Q6J("ngForOf",e.order.itemOrdered),t.xp6(10),t.Oqu(e.order.delivery.delName),t.xp6(5),t.Oqu(e.order.delivery.delTime)}}class m{constructor(r,e,u,y,P){this.activatedroute=r,this.breadcrumbService=e,this.orderService=u,this.router=y,this.toastr=P,this.errors=null,this.breadcrumbService.set("@OrderDetailed"," ")}ngOnInit(){this.ViewPaidOrder()}ViewPaidOrder(){const r=+this.activatedroute.snapshot.paramMap.get("id");r&&this.orderService.GetAdminOrdersById(r).subscribe({next:e=>{this.order=e,this.breadcrumbService.set("@OrderDetailed",`Order# ${e.id} - ${e.orderStatus}`)}})}deleteAdminOrder(r){this.orderService.DeleteAdminOrder(r).subscribe({next:e=>{e&&this.toastr.success("Order deleted"),this.router.navigateByUrl("/Admin")},error:e=>{this.toastr.success("Order not deleted"),this.errors=e.errors}})}}m.\u0275fac=function(r){return new(r||m)(t.Y36(c.gz),t.Y36(U.pm),t.Y36(f.N),t.Y36(c.F0),t.Y36(h._W))},m.\u0275cmp=t.Xpm({type:m,selectors:[["app-order-details-paid"]],decls:47,vars:6,consts:[[1,"container","mt-5"],["class","row",4,"ngIf"],[1,"table",2,"border","3px solid red"],[1,"info"],[1,"info2"],[1,"text-center",2,"margin","20px"],[1,"btn","btn-success","text-center",2,"width","auto"],[1,"btn","btn-success","text-center",2,"width","auto",3,"click"],[1,"row"],[1,"col-8"],[1,"table-responsive"],[1,"table"],["scope","col",1,"border-0","bg-light"],[1,"p-2","text-uppercase"],[1,"py-2","text-uppercase"],[4,"ngFor","ngForOf"],[1,"col-4"],[1,"bg-light","px-4","py-3","text-uppercase","font-weight-bold"],[1,"row","mt-2",2,"border","5px solid red","height","auto","width","400px"],["scope","row"],[1,"p-2"],[1,"i","mg-fluid",2,"max-height","50px",3,"src","alt"],[1,"ml-3","d-inline-block","align-middle"],[1,"mb-0"],[1,"align-middle"],[1,"font-weight-bold","px-2"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0),t.YNc(1,_,36,3,"div",1),t.TgZ(2,"div")(3,"strong"),t._uU(4,"Customer Details"),t.qZA(),t.TgZ(5,"table",2)(6,"tr")(7,"td")(8,"strong",3),t._uU(9,"Street: "),t.qZA()(),t.TgZ(10,"td")(11,"strong",4),t._uU(12),t.qZA()()(),t.TgZ(13,"tr")(14,"td")(15,"strong",3),t._uU(16,"City: "),t.qZA()(),t.TgZ(17,"td")(18,"strong",4),t._uU(19),t.qZA()()(),t.TgZ(20,"tr")(21,"td")(22,"strong",3),t._uU(23,"Zipcode: "),t.qZA()(),t.TgZ(24,"td")(25,"strong",4),t._uU(26),t.qZA()()(),t.TgZ(27,"tr")(28,"td")(29,"strong",3),t._uU(30,"Country: "),t.qZA()(),t.TgZ(31,"td")(32,"strong",4),t._uU(33),t.qZA()()(),t.TgZ(34,"tr")(35,"td")(36,"strong",3),t._uU(37,"Phone: "),t.qZA()(),t.TgZ(38,"td")(39,"strong",4),t._uU(40),t.qZA()()()()(),t.TgZ(41,"div",5)(42,"button",6),t._uU(43,"Confirm Order"),t.qZA()(),t.TgZ(44,"div",5)(45,"button",7),t.NdJ("click",function(){return e.deleteAdminOrder(e.order.id)}),t._uU(46,"Delete"),t.qZA()()()),2&r&&(t.xp6(1),t.Q6J("ngIf",e.order),t.xp6(11),t.Oqu(e.order.shippingAddress.street),t.xp6(7),t.Oqu(e.order.shippingAddress.city),t.xp6(7),t.Oqu(e.order.shippingAddress.zipcode),t.xp6(7),t.Oqu(e.order.shippingAddress.country),t.xp6(7),t.Oqu(e.order.shippingAddress.phone))},dependencies:[d.sg,d.O5],styles:[".info[_ngcontent-%COMP%]{font-weight:bolder;color:#000}.info2[_ngcontent-%COMP%]{font-weight:700;color:purple}"]});const C=[{path:"",component:l},{path:":id",component:m,data:{breadcrumb:{alias:"OrderDetails"}}}];class s{}s.\u0275fac=function(r){return new(r||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({imports:[c.Bz.forChild(C),c.Bz]});class p{}p.\u0275fac=function(r){return new(r||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[d.ez,s,Z.Is]})}}]);