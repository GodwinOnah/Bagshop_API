"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[740],{3740:(I,g,i)=>{i.r(g),i.d(g,{AdminModule:()=>p});var s=i(6895),n=i(433),t=i(1571),x=i(8232),A=i(7185),T=i(5019);function b(o,r){if(1&o&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function v(o,r){if(1&o&&(t.TgZ(0,"ul",12),t.YNc(1,b,2,1,"li",13),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIfOf",e.errors)}}class a{constructor(r,e,d){this.formbuilder=r,this.productsService=e,this.toastr=d,this.errors=null,this.productForm=this.formbuilder.group({prodName:["",n.kI.required],prodPicture:["",n.kI.required],prodDescription:["",n.kI.required],prodPrice:["",n.kI.required],productBrand:["",n.kI.required],productTypes:["",n.kI.required]})}onSubmit(){this.productsService.UploadProduct(this.productForm.value).subscribe({next:()=>{window.location.reload(),this.toastr.success("Product uploaded")},error:r=>{this.toastr.success("Not uploaded"),this.errors=r.errors}})}}a.\u0275fac=function(r){return new(r||a)(t.Y36(n.qu),t.Y36(x.h),t.Y36(A._W))},a.\u0275cmp=t.Xpm({type:a,selectors:[["app-items"]],decls:22,vars:15,consts:[[2,"background-color","lightgray","padding-bottom","40px"],[1,"align-content-left"],["mat-dialog-close","",1,"btn","btn-danger",2,"margin-top","15px","margin-left","5px"],[1,"text-center",2,"color","blue"],[1,"d-flex","justify-content-center"],[1,"col-3"],[3,"formGroup","ngSubmit"],[1,"text-center","mt-5"],[3,"formControl","label"],["class","text-danger list-unstyled",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-lg","btn-success",2,"margin-top","10px",3,"disabled"],[1,"text-danger","list-unstyled"],[4,"ngIf","ngIfOf"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3," x "),t.qZA()(),t.TgZ(4,"div",3)(5,"h1"),t._uU(6,"Product Upload Page"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"form",6),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(10,"div",7),t._UZ(11,"app-text-inputs",8)(12,"app-text-inputs",8)(13,"app-text-inputs",8)(14,"app-text-inputs",8)(15,"app-text-inputs",8)(16,"app-text-inputs",8),t.qZA(),t.TgZ(17,"div"),t.YNc(18,v,2,1,"ul",9),t.qZA(),t.TgZ(19,"div",10)(20,"button",11),t._uU(21," Upload Product "),t.qZA()()()()()()),2&r&&(t.xp6(9),t.Q6J("formGroup",e.productForm),t.xp6(2),t.Q6J("formControl",e.productForm.controls.prodName)("label","Product Name"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.prodPicture)("label","Product Picture"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.prodDescription)("label","Product Description"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.prodPrice)("label","Price"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.productBrand)("label","Brand"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.productTypes)("label","Type"),t.xp6(2),t.Q6J("ngIf",e.errors),t.xp6(2),t.Q6J("disabled",e.productForm.invalid))},dependencies:[s.O5,n._Y,n.JJ,n.JL,n.oH,n.sg,T.x]});var h=i(5989),f=i(1330),m=i(202);function _(o,r){1&o&&(t.ynx(0),t.TgZ(1,"strong",12),t._uU(2,"No order(s)"),t.qZA(),t.BQk())}function U(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"td",17)(1,"i",18),t.NdJ("click",function(){t.CHM(e);const Z=t.oxw(2);return t.KtG(Z.deleteAdminOrder(Z.id))}),t.qZA()()}}function q(o,r){if(1&o&&(t.TgZ(0,"tr",13)(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"th"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._UZ(15,"input",14),t.TgZ(16,"label",15),t._uU(17," Confirm"),t.qZA()(),t.YNc(18,U,2,0,"td",16),t.qZA()),2&o){const e=r.$implicit,d=t.oxw();t.MGl("routerLink","/Admin/",e.id,""),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(t.xi3(7,9,e.orderDate,"medium")),t.xp6(3),t.hij("\xa3",e.total,""),t.xp6(2),t.Oqu(e.orderStatus),t.xp6(2),t.Oqu(e.shippingAddress),t.xp6(2),t.Q6J("checked",d.confirmer()),t.xp6(3),t.Q6J("ngIf",d.isBasket)}}class u{constructor(r,e){this.matdialog=r,this.orderservice=e,this.admin="",this.confirm=!1}ngOnInit(){this.GetPaidOrders()}openUploadProduct(){this.matdialog.open(a,{height:"70%",width:"50%"})}GetPaidOrders(){this.orderservice.GetAdminOrders().subscribe({next:r=>{console.log(r.map(e=>e.shippingAddress)),this.adminOrders=r}})}confirmer(){this.confirm=!0}deleteAdminOrder(){this.orderservice.GetAdminOrders().subscribe()}}u.\u0275fac=function(r){return new(r||u)(t.Y36(h.uw),t.Y36(f.N))},u.\u0275cmp=t.Xpm({type:u,selectors:[["app-admin"]],decls:31,vars:2,consts:[[1,"admin"],[1,"text-center"],[2,"color","purple","font-weight","bolder"],[1,"container","mt-5",2,"margin-top","200px"],[1,"row"],[1,"col-12"],[1,"table","table-hover",2,"cursor","pointer"],[1,"thead-light"],[4,"ngIf"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"text-center",2,"margin-bottom","300px"],[1,"btn","btn-primary","mt-5",3,"click"],[2,"color","red"],[3,"routerLink"],["type","checkbox","id","check","name","check",3,"checked"],["for","check"],["class","text-danger",4,"ngIf"],[1,"text-danger"],[1,"fa","fa-trash","mt-4",2,"cursor","pointer","font-size","1.5em","margin-left","20px",3,"click"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"h1",1)(2,"strong",2),t._uU(3," You are the Admin"),t.qZA()(),t.TgZ(4,"div",3)(5,"div",4)(6,"div",5)(7,"table",6)(8,"thead",7)(9,"tr")(10,"th"),t._uU(11,"ORDER"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"CUSTOMER EMAIL"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"DATE"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"TOTAL"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"STATUS"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"CUSTOMER ADDRESS"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"CONFIRMATION"),t.qZA()()(),t.TgZ(24,"tbody")(25,"div",1),t.YNc(26,_,3,0,"ng-container",8),t.YNc(27,q,19,12,"tr",9),t.qZA()()()()()(),t.TgZ(28,"div",10)(29,"button",11),t.NdJ("click",function(){return e.openUploadProduct()}),t._uU(30," Upload new product here "),t.qZA()()()),2&r&&(t.xp6(26),t.Q6J("ngIf",0==e.adminOrders.length),t.xp6(1),t.Q6J("ngForOf",e.adminOrders))},dependencies:[s.sg,s.O5,m.rH,s.uU],styles:[".admin[_ngcontent-%COMP%]{margin-top:100px}.container[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;overflow:scroll;margin-left:auto;border:2px solid black;border-radius:10px;background-color:#f5fffa;position:relative}"]});var O=i(8909);function C(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"th",20)(2,"div",21),t._UZ(3,"img",22),t.TgZ(4,"div",23)(5,"h5",24),t._uU(6),t.qZA()()()(),t.TgZ(7,"td",25)(8,"strong"),t._uU(9),t.qZA()(),t.TgZ(10,"td",25)(11,"span",26),t._uU(12),t.qZA()(),t.TgZ(13,"td",25)(14,"strong"),t._uU(15),t.qZA()()()),2&o){const e=r.$implicit;t.xp6(3),t.s9C("src",e.prodPicture,t.LSH),t.s9C("alt",e.prodName),t.xp6(3),t.hij(" ",e.prodName," "),t.xp6(3),t.hij("\xa3",e.itemPrice,""),t.xp6(3),t.Oqu(e.quantity),t.xp6(3),t.hij("\xa3",e.itemPrice*e.quantity,"")}}function y(o,r){if(1&o&&(t.TgZ(0,"div",6)(1,"div",7)(2,"div")(3,"div",8)(4,"table",9)(5,"thead")(6,"tr")(7,"th",10)(8,"div",11),t._uU(9,"Product"),t.qZA()(),t.TgZ(10,"th",10)(11,"div",12),t._uU(12,"Price"),t.qZA()(),t.TgZ(13,"th",10)(14,"div",12),t._uU(15,"Quantity"),t.qZA()(),t.TgZ(16,"th",10)(17,"div",12),t._uU(18,"Total"),t.qZA()()()(),t.TgZ(19,"tbody"),t.YNc(20,C,16,6,"tr",13),t.qZA()()()()(),t.TgZ(21,"div",14)(22,"div",15),t._uU(23,"Order summary "),t.qZA(),t.TgZ(24,"div",16)(25,"ul",17)(26,"li",18)(27,"strong",19),t._uU(28,"Subtotal"),t.qZA(),t.TgZ(29,"strong"),t._uU(30),t.qZA()(),t.TgZ(31,"li",18)(32,"strong",19),t._uU(33,"Delivery"),t.qZA(),t.TgZ(34,"strong"),t._uU(35),t.qZA()(),t.TgZ(36,"li",18)(37,"strong",19),t._uU(38,"Total"),t.qZA(),t.TgZ(39,"strong"),t._uU(40),t.qZA()()()()()()),2&o){const e=t.oxw();t.xp6(20),t.Q6J("ngForOf",e.order.itemOrdered),t.xp6(10),t.hij("\xa3",e.order.subTotal,""),t.xp6(5),t.hij("\xa3",e.order.delivery,""),t.xp6(5),t.hij("\xa3",e.order.total,"")}}class l{constructor(r,e,d){this.activatedroute=r,this.breadcrumbService=e,this.orderService=d,this.breadcrumbService.set("@OrderDetailed"," ")}ngOnInit(){this.ViewPaidOrder()}ViewPaidOrder(){const r=+this.activatedroute.snapshot.paramMap.get("id");r&&this.orderService.GetAdminOrdersById(r).subscribe({next:e=>{this.order=e,this.breadcrumbService.set("@OrderDetailed",`Order# ${e.id} - ${e.orderStatus}`)}})}}l.\u0275fac=function(r){return new(r||l)(t.Y36(m.gz),t.Y36(O.pm),t.Y36(f.N))},l.\u0275cmp=t.Xpm({type:l,selectors:[["app-order-details-paid"]],decls:8,vars:2,consts:[[1,"container","mt-5"],["class","row",4,"ngIf"],[1,"row","mt-2",2,"border","5px solid red","height","200px"],[2,"font-weight","bold"],[1,"text-center",2,"margin","20px"],[1,"btn","btn-success","text-center",2,"width","auto"],[1,"row"],[1,"col-8"],[1,"table-responsive"],[1,"table"],["scope","col",1,"border-0","bg-light"],[1,"p-2","text-uppercase"],[1,"py-2","text-uppercase"],[4,"ngFor","ngForOf"],[1,"col-4"],[1,"bg-light","px-4","py-3","text-uppercase","font-weight-bold"],[1,"p-4"],[1,"list-unstyled","mb-1"],[1,"d-flex","justify-content-between","py-3","border-bottom"],[1,"text-muted"],["scope","row"],[1,"p-2"],[1,"i","mg-fluid",2,"max-height","50px",3,"src","alt"],[1,"ml-3","d-inline-block","align-middle"],[1,"mb-0"],[1,"align-middle"],[1,"font-weight-bold","px-2"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0),t.YNc(1,y,41,4,"div",1),t.TgZ(2,"div",2)(3,"strong",3),t._uU(4),t.qZA()(),t.TgZ(5,"div",4)(6,"button",5),t._uU(7,"Confirm Order"),t.qZA()()()),2&r&&(t.xp6(1),t.Q6J("ngIf",e.order),t.xp6(3),t.Oqu(e.order.shippingAddress))},dependencies:[s.sg,s.O5]});const P=[{path:"",component:u},{path:":id",component:l,data:{breadcrumb:{alias:"OrderDetails"}}}];class c{}c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[m.Bz.forChild(P),m.Bz]});class p{}p.\u0275fac=function(r){return new(r||p)},p.\u0275mod=t.oAB({type:p}),p.\u0275inj=t.cJS({imports:[s.ez,c,h.Is]})}}]);