"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[76],{9076:(W,C,d)=>{d.r(C),d.d(C,{AdminModule:()=>f});var c=d(6895),n=d(433),t=d(1571),u=d(202),l=d(5989),p=d(7185),O=d(1135),P=d(2340),U=d(529);class m{constructor(r,e,i){this.http=r,this.router=e,this.toastr=i,this.advertSource=new O.X(null),this.adverts$=this.advertSource.asObservable(),this.baseUrl=P.N.apiUrl}submitAdvert(r){return this.http.post(this.baseUrl+"advert",r)}getAdvertsById(r){return this.http.get(this.baseUrl+"advert/"+r)}getAdverts(){return this.http.get(this.baseUrl+"advert")}deleteAdverts(r){return this.http.delete(this.baseUrl+"advert/"+r)}}m.\u0275fac=function(r){return new(r||m)(t.LFG(U.eN),t.LFG(u.F0),t.LFG(p._W))},m.\u0275prov=t.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"});var T=d(5019);class _{constructor(r,e,i,s,a){this.formbuilder=r,this.router=e,this.matdialog=i,this.toastr=s,this.advert=a,this.errors=null,this.advertForm=this.formbuilder.group({advert:["",[n.kI.required]],time:[""]})}submitAdvert(){this.advert.submitAdvert(this.advertForm.value).subscribe({next:r=>{this.closeDialog(),this.toastr.success("Advert added"),window.location.reload()},error:r=>{this.errors=r.errors,this.toastr.success("Advert not added")}})}closeDialog(){this.matdialog.closeAll()}}_.\u0275fac=function(r){return new(r||_)(t.Y36(n.qu),t.Y36(u.F0),t.Y36(l.uw),t.Y36(p._W),t.Y36(m))},_.\u0275cmp=t.Xpm({type:_,selectors:[["app-adverts"]],decls:14,vars:7,consts:[[2,"background-color","lightgray","padding-bottom","20px","border","3px solid green"],[1,"align-content-left"],["mat-dialog-close","",1,"btn","btn-danger",2,"margin-top","15px","margin-left","5px"],[1,"text-center",2,"color","blue","padding","0"],[1,"d-flex","justify-content-center",2,"width","auto","height","auto"],[3,"formGroup","ngSubmit"],[1,"text-center","mt-5"],[3,"formControl","label"],[3,"formControl","type","label"],["type","submit",1,"btn","btn-lg","btn-success",2,"margin-top","10px",3,"disabled"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t._uU(3," x "),t.qZA()(),t.TgZ(4,"div",3)(5,"h1"),t._uU(6,"Enter Advert Now"),t.qZA()(),t.TgZ(7,"div",4)(8,"form",5),t.NdJ("ngSubmit",function(){return e.submitAdvert()}),t.TgZ(9,"div",6),t._UZ(10,"app-text-inputs",7)(11,"app-text-inputs",8),t.TgZ(12,"button",9),t._uU(13," Add "),t.qZA()()()()()),2&r&&(t.xp6(8),t.Q6J("formGroup",e.advertForm),t.xp6(2),t.Q6J("formControl",e.advertForm.controls.advert)("label","Enter text"),t.xp6(1),t.Q6J("formControl",e.advertForm.controls.time)("type","number")("label","Enter duration(optional)"),t.xp6(1),t.Q6J("disabled",e.advertForm.invalid))},dependencies:[n._Y,n.JJ,n.JL,n.oH,n.sg,T.x,l.ZT]});var g=d(8232);function N(o,r){if(1&o&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function I(o,r){if(1&o&&(t.TgZ(0,"ul",12),t.YNc(1,N,2,1,"li",13),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIfOf",e.errors)}}class v{constructor(r,e,i,s,a){this.formbuilder=r,this.productsService=e,this.toastr=i,this.matdialog=s,this.prodshopmodService=a,this.errors=null,this.ids=[],this.names=[],this.maxId=0,this.brandForm=this.formbuilder.group({Name:["",n.kI.required]})}ngOnInit(){this.GetProductBrands()}onSubmit(){this.names.find(e=>e.toLowerCase()===this.brandForm?.get("Name")?.value.toLowerCase())&&this.toastr.success("Brand already exist"),this.productsService.UploadBrand(this.maxId+1,this.brandForm?.get("Name")?.value).subscribe({next:()=>{this.toastr.success("New brand added"),window.location.reload()},error:e=>{this.toastr.success("Not added"),this.errors=e.errors}})}closeDialog(){this.matdialog.closeAll()}GetProductBrands(){this.prodshopmodService.getBrands().subscribe({next:r=>{for(let e of r)this.ids.push(e.id),this.names.push(e.name);this.maxId=this.ids.reduce((e,i)=>Math.max(e,i))},error:r=>console.log(r)})}}function w(o,r){if(1&o&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function F(o,r){if(1&o&&(t.TgZ(0,"ul",12),t.YNc(1,w,2,1,"li",13),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIfOf",e.errors)}}v.\u0275fac=function(r){return new(r||v)(t.Y36(n.qu),t.Y36(g.h),t.Y36(p._W),t.Y36(l.uw),t.Y36(g.h))},v.\u0275cmp=t.Xpm({type:v,selectors:[["app-product-brand"]],decls:18,vars:5,consts:[[2,"background-color","lightgray","padding-bottom","40px"],[1,"align-content-left"],[1,"btn","btn-danger",2,"margin-top","15px","margin-left","5px",3,"click"],[1,"text-center",2,"color","blue"],[1,"d-flex","justify-content-center"],[1,"col-3"],[3,"formGroup","ngSubmit"],[1,"text-center","mt-5"],[3,"formControl","label"],["class","text-danger list-unstyled",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-lg","btn-success",2,"margin-top","10px",3,"disabled"],[1,"text-danger","list-unstyled"],[4,"ngIf","ngIfOf"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return e.closeDialog()}),t._uU(3," x "),t.qZA()(),t.TgZ(4,"div",3)(5,"h1"),t._uU(6,"Add product brand"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"form",6),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(10,"div",7),t._UZ(11,"app-text-inputs",8),t.qZA(),t.TgZ(12,"div"),t.YNc(13,I,2,1,"ul",9),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"div",10)(16,"button",11),t._uU(17," Add Brand "),t.qZA()()()()()()),2&r&&(t.xp6(9),t.Q6J("formGroup",e.brandForm),t.xp6(2),t.Q6J("formControl",e.brandForm.controls.Name)("label","Brand name"),t.xp6(2),t.Q6J("ngIf",e.errors),t.xp6(3),t.Q6J("disabled",e.brandForm.invalid))},dependencies:[c.O5,n._Y,n.JJ,n.JL,n.oH,n.sg,T.x]});class b{constructor(r,e,i,s,a){this.formbuilder=r,this.productsService=e,this.toastr=i,this.matdialog=s,this.prodshopmodService=a,this.errors=null,this.ids=[],this.names=[],this.maxId=0,this.typeForm=this.formbuilder.group({Name:["",n.kI.required]})}ngOnInit(){this.GetProductTypes()}onSubmit(){this.names.find(e=>e.toLowerCase()===this.typeForm?.get("Name")?.value.toLowerCase())?this.toastr.success("Type already exist"):this.productsService.UploadType(this.maxId+1,this.typeForm?.get("Name")?.value).subscribe({next:()=>{window.location.reload(),this.toastr.success("New product type added")},error:e=>{this.toastr.success("Not uadded"),this.errors=e.errors}})}closeDialog(){this.matdialog.closeAll()}GetProductTypes(){this.prodshopmodService.getProductTypes().subscribe({next:r=>{for(let e of r)this.ids.push(e.id),this.names.push(e.name);this.maxId=this.ids.reduce((e,i)=>Math.max(e,i))},error:r=>console.log(r)})}}function J(o,r){if(1&o&&(t.TgZ(0,"div",18),t._UZ(1,"input",19),t.TgZ(2,"label",20),t._uU(3),t.qZA()()),2&o){const e=r.$implicit,i=t.oxw();t.Q6J("formGroup",i.productForm),t.xp6(1),t.s9C("id",e.id),t.s9C("value",e.id),t.xp6(1),t.s9C("for",e.id),t.xp6(1),t.Oqu(e.name)}}function S(o,r){if(1&o&&(t.TgZ(0,"div",18),t._UZ(1,"input",21),t.TgZ(2,"label",20),t._uU(3),t.qZA()()),2&o){const e=r.$implicit,i=t.oxw();t.Q6J("formGroup",i.productForm),t.xp6(1),t.s9C("id",e.id),t.s9C("value",e.id),t.xp6(1),t.s9C("for",e.id),t.xp6(1),t.Oqu(e.name)}}function Y(o,r){if(1&o&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&o){const e=r.$implicit;t.xp6(1),t.hij(" ",e," ")}}function k(o,r){if(1&o&&(t.TgZ(0,"ul",22),t.YNc(1,Y,2,1,"li",23),t.qZA()),2&o){const e=t.oxw();t.xp6(1),t.Q6J("ngIfOf",e.errors)}}b.\u0275fac=function(r){return new(r||b)(t.Y36(n.qu),t.Y36(g.h),t.Y36(p._W),t.Y36(l.uw),t.Y36(g.h))},b.\u0275cmp=t.Xpm({type:b,selectors:[["app-product-type"]],decls:18,vars:5,consts:[[2,"background-color","lightgray","padding-bottom","40px"],[1,"align-content-left"],[1,"btn","btn-danger",2,"margin-top","15px","margin-left","5px",3,"click"],[1,"text-center",2,"color","blue"],[1,"d-flex","justify-content-center"],[1,"col-3"],[3,"formGroup","ngSubmit"],[1,"text-center","mt-5"],[3,"formControl","label"],["class","text-danger list-unstyled",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-lg","btn-success",2,"margin-top","10px",3,"disabled"],[1,"text-danger","list-unstyled"],[4,"ngIf","ngIfOf"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return e.closeDialog()}),t._uU(3," x "),t.qZA()(),t.TgZ(4,"div",3)(5,"h1"),t._uU(6,"Add Product Type"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"form",6),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(10,"div",7),t._UZ(11,"app-text-inputs",8),t.qZA(),t.TgZ(12,"div"),t.YNc(13,F,2,1,"ul",9),t.qZA(),t._UZ(14,"br"),t.TgZ(15,"div",10)(16,"button",11),t._uU(17," Add Type "),t.qZA()()()()()()),2&r&&(t.xp6(9),t.Q6J("formGroup",e.typeForm),t.xp6(2),t.Q6J("formControl",e.typeForm.controls.Name)("label","Type name"),t.xp6(2),t.Q6J("ngIf",e.errors),t.xp6(3),t.Q6J("disabled",e.typeForm.invalid))},dependencies:[c.O5,n._Y,n.JJ,n.JL,n.oH,n.sg,T.x]});class Z{constructor(r,e,i,s,a,y){this.formbuilder=r,this.productsService=e,this.toastr=i,this.matdialog=s,this.prodshopmodService=a,this.http=y,this.errors=null,this.brands=[],this.types=[],this.prodName=[],this.prodBrand=[],this.prodType=[],this.prodPictureUrl="",this.formdata=null,this.productForm=this.formbuilder.group({prodName:["",n.kI.required],prodPicture:["",n.kI.required],prodDescription:["",n.kI.required],prodPrice:["",n.kI.required],productBrandId:["",n.kI.required],productTypeId:["",n.kI.required]})}ngOnInit(){this.GetProductBrands(),this.GetProductTypes(),this.GetProducts()}onSubmit(){this.productsService.saveProductPicture(this.formdata).subscribe({next:()=>{this.toastr.success("Picture saved"),this.sendData()},error:r=>{this.toastr.success("Picture not saved"),this.errors=r.errors}})}sendData(){const r=this.prodName.find(i=>i.toLowerCase()===this.productForm?.get("prodName")?.value.toLowerCase()),e=this.prodType.find(i=>i===this.productForm?.get("prodPrice")?.value);r&&e?this.toastr.success("Product already exist"):this.productsService.UploadProduct(this.productForm.value).subscribe({next:()=>{window.location.reload(),this.toastr.success("Product uploaded")},error:i=>{this.toastr.success("Not uploaded"),this.errors=i.errors}})}closeDialog(){this.matdialog.closeAll()}GetProducts(){this.prodshopmodService.getProducts().subscribe({next:r=>{for(let e of r.data)this.prodName.push(e.prodName),this.prodBrand.push(e.productBrand),this.prodType.push(e.productType)},error:r=>console.log(r)})}GetProductBrands(){this.prodshopmodService.getBrands().subscribe({next:r=>{this.brands=r},error:r=>console.log(r)})}GetProductTypes(){this.prodshopmodService.getProductTypes().subscribe({next:r=>{this.types=r},error:r=>console.log(r)})}uploadPicture(r){if(r.target.files.length>0){const i=r.target.files[0];var e=new FormData;e.append("myFiles",i),this.formdata=e}}}Z.\u0275fac=function(r){return new(r||Z)(t.Y36(n.qu),t.Y36(g.h),t.Y36(p._W),t.Y36(l.uw),t.Y36(g.h),t.Y36(U.eN))},Z.\u0275cmp=t.Xpm({type:Z,selectors:[["app-items"]],decls:30,vars:15,consts:[[2,"background-color","lightgray","padding-bottom","40px","border","5px solid skyblue"],[1,"align-content-left"],[1,"btn","btn-danger",2,"margin-top","15px","margin-left","5px",3,"click"],[1,"text-center",2,"color","blue"],[1,"d-flex","justify-content-center"],[1,"col-3"],[3,"formGroup","ngSubmit"],[1,"text-center","mt-5"],[3,"formControl","label"],[3,"formControl","type","label","change"],[3,"formControl","type","label"],[1,"row"],[1,"col-6"],[2,"font-weight","bolder"],["class","d-flex",3,"formGroup",4,"ngFor","ngForOf"],["class","text-danger list-unstyled",4,"ngIf"],[1,"d-grid"],["type","submit",1,"btn","btn-lg","btn-success",2,"margin-top","10px",3,"disabled"],[1,"d-flex",3,"formGroup"],["formControlName","productBrandId","name","productBrandId","type","radio",3,"id","value"],[3,"for"],["formControlName","productTypeId","name","productTypeId","type","radio",3,"id","value"],[1,"text-danger","list-unstyled"],[4,"ngIf","ngIfOf"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0)(1,"div",1)(2,"button",2),t.NdJ("click",function(){return e.closeDialog()}),t._uU(3," x "),t.qZA()(),t.TgZ(4,"div",3)(5,"h1"),t._uU(6,"Product Upload Page"),t.qZA()(),t.TgZ(7,"div",4)(8,"div",5)(9,"form",6),t.NdJ("ngSubmit",function(){return e.onSubmit()}),t.TgZ(10,"div",7),t._UZ(11,"app-text-inputs",8),t.TgZ(12,"app-text-inputs",9),t.NdJ("change",function(s){return e.uploadPicture(s)}),t.qZA(),t._UZ(13,"app-text-inputs",8)(14,"app-text-inputs",10),t.TgZ(15,"div",11)(16,"div",12)(17,"strong",13),t._uU(18," Brand"),t.qZA(),t.YNc(19,J,4,5,"div",14),t.qZA(),t.TgZ(20,"div",12)(21,"strong",13),t._uU(22,"Type"),t.qZA(),t.YNc(23,S,4,5,"div",14),t.qZA()()(),t.TgZ(24,"div"),t.YNc(25,k,2,1,"ul",15),t.qZA(),t._UZ(26,"br"),t.TgZ(27,"div",16)(28,"button",17),t._uU(29," Upload Product "),t.qZA()()()()()()),2&r&&(t.xp6(9),t.Q6J("formGroup",e.productForm),t.xp6(2),t.Q6J("formControl",e.productForm.controls.prodName)("label","Product Name"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.prodPicture)("type","file")("label","Product Picture"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.prodDescription)("label","Product Description"),t.xp6(1),t.Q6J("formControl",e.productForm.controls.prodPrice)("type","number")("label","Price"),t.xp6(5),t.Q6J("ngForOf",e.brands),t.xp6(4),t.Q6J("ngForOf",e.types),t.xp6(2),t.Q6J("ngIf",e.errors),t.xp6(3),t.Q6J("disabled",e.productForm.invalid))},dependencies:[c.sg,c.O5,n._Y,n.Fj,n._,n.JJ,n.JL,n.oH,n.sg,n.u,T.x]});var q=d(1330),B=d(2955);function D(o,r){1&o&&(t.TgZ(0,"div",3)(1,"strong",4),t._uU(2," Sorry!!! Only the admin can access this page "),t.TgZ(3,"p"),t._uU(4,"Why not continue by clicking products and making orders.."),t.qZA()()())}function G(o,r){1&o&&(t.ynx(0),t.TgZ(1,"strong",18),t._uU(2,"No order(s) fron a customer by this time."),t.qZA(),t.BQk())}function Q(o,r){if(1&o&&(t.TgZ(0,"tr",19)(1,"th"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td"),t._uU(10),t.ALo(11,"date"),t.qZA(),t.TgZ(12,"td"),t._uU(13),t.qZA(),t.TgZ(14,"td"),t._uU(15),t.qZA()()),2&o){const e=r.$implicit;t.MGl("routerLink","/Admin/",e.id,""),t.xp6(2),t.Oqu(e.id),t.xp6(2),t.hij("",e.shippingAddress.firstName+" "+e.shippingAddress.middleName+" "+e.shippingAddress.lastName," "),t.xp6(2),t.Oqu(e.email),t.xp6(2),t.Oqu(e.shippingAddress.phone),t.xp6(2),t.Oqu(t.xi3(11,8,e.orderDate,"medium")),t.xp6(3),t.Oqu(e.orderStatus),t.xp6(2),t.Oqu(e.confirmation)}}function M(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div")(1,"marquee",20)(2,"strong"),t._uU(3),t.TgZ(4,"button",21),t.NdJ("click",function(){const a=t.CHM(e).$implicit,y=t.oxw(3);return t.KtG(y.deleteAdvert(a.id))}),t._uU(5,"delete"),t.qZA()()()()}if(2&o){const e=r.$implicit;t.xp6(3),t.Oqu(e.advert)}}function L(o,r){if(1&o){const e=t.EpF();t.TgZ(0,"div",5)(1,"h1",3)(2,"strong",6),t._uU(3," You are the Admin"),t.qZA()(),t.TgZ(4,"marquee",7),t._uU(5,"As the admin, only you can delete any product because you are provided with the delete button on each product when login as admin. You can view the products to see by yourself. Thanks"),t.qZA(),t.TgZ(6,"div",8)(7,"div",9)(8,"div",10)(9,"table",11)(10,"thead",12)(11,"tr")(12,"th"),t._uU(13,"ORDER"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"CUSTOMER NAME"),t.qZA(),t.TgZ(16,"th"),t._uU(17,"CUSTOMER EMAIL"),t.qZA(),t.TgZ(18,"th"),t._uU(19,"CUSTOMER PHONE"),t.qZA(),t.TgZ(20,"th"),t._uU(21,"DATE"),t.qZA(),t.TgZ(22,"th"),t._uU(23,"STATUS"),t.qZA(),t.TgZ(24,"th"),t._uU(25,"CONFIRMATION"),t.qZA()()(),t.TgZ(26,"tbody")(27,"tr")(28,"div",3),t.YNc(29,G,3,0,"ng-container",0),t.qZA()(),t.YNc(30,Q,16,11,"tr",13),t.qZA()()()()(),t.TgZ(31,"div",14)(32,"button",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.openUploadProduct())}),t._uU(33," Upload new product here "),t.qZA(),t.TgZ(34,"button",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.openUploadType())}),t._uU(35," Add product type here "),t.qZA(),t.TgZ(36,"button",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.openUploadBrand())}),t._uU(37," Add product brand here "),t.qZA()(),t.TgZ(38,"div",3)(39,"h2"),t._uU(40,"Current Adverts"),t.qZA(),t.TgZ(41,"div"),t.YNc(42,M,6,1,"div",16),t.qZA(),t.TgZ(43,"div",17)(44,"button",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.openAdvertDialog())}),t._uU(45," Add new adverts "),t.qZA()()()()}if(2&o){const e=t.oxw(2);t.xp6(29),t.Q6J("ngIf",0==e.adminOrders.length),t.xp6(1),t.Q6J("ngForOf",e.adminOrders),t.xp6(12),t.Q6J("ngForOf",e.advertsString)}}function j(o,r){if(1&o&&(t.ynx(0),t.YNc(1,D,5,0,"div",1),t.YNc(2,L,46,3,"div",2),t.BQk()),2&o){const e=r.ngIf;t.xp6(1),t.Q6J("ngIf","gut@gmail.com"!=e.email),t.xp6(1),t.Q6J("ngIf","gut@gmail.com"==e.email)}}class x{constructor(r,e,i,s,a){this.matdialog=r,this.orderservice=e,this.toastr=i,this.accountService=s,this.advert=a,this.admin="",this.customerName="",this.adminOrders=[],this.confirm=!1,this.advertsString=[],this.errors=null}ngOnInit(){this.GetPaidOrders(),this.GetAdverts()}openUploadProduct(){this.closeDialog(),this.matdialog.open(Z,{height:"auto",width:"80%"})}openUploadType(){this.closeDialog(),this.matdialog.open(b,{height:"auto",width:"40%"})}closeDialog(){this.matdialog.closeAll()}openUploadBrand(){this.closeDialog(),this.matdialog.open(v,{height:"auto",width:"40%"})}openAdvertDialog(){this.closeDialog(),this.matdialog.open(_,{height:"auto",width:"40%"})}GetPaidOrders(){this.orderservice.GetAdminOrders().subscribe({next:r=>{this.adminOrders=r}})}confirmer(){this.confirm=!0}GetAdverts(){this.advert.getAdverts().subscribe({next:r=>{this.advertsString=r},error:r=>{this.errors=r.errors,this.toastr.success("Can't get advert Ids")}})}deleteAdvert(r){this.advert.deleteAdverts(r).subscribe({next:e=>{e&&window.location.reload()},error:e=>{this.errors=e.errors,this.toastr.success("Can't get advert Ids")}})}}x.\u0275fac=function(r){return new(r||x)(t.Y36(l.uw),t.Y36(q.N),t.Y36(p._W),t.Y36(B.N),t.Y36(m))},x.\u0275cmp=t.Xpm({type:x,selectors:[["app-admin"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","text-center",4,"ngIf"],["class","admin",4,"ngIf"],[1,"text-center"],[2,"color","red","font-weight","bolder","font-size","xx-large"],[1,"admin"],[2,"color","purple","font-weight","bolder"],["scrollamount","4"],[1,"container","mt-5",2,"margin-top","200px"],[1,"row"],[1,"col-12"],[1,"table","table-hover",2,"cursor","pointer"],[1,"thead-light"],[3,"routerLink",4,"ngFor","ngForOf"],[1,"justify-content-center","d-flex",2,"padding-bottom","300px"],[1,"btn","btn-primary","m-5",3,"click"],[4,"ngFor","ngForOf"],[1,"d-flex"],[2,"color","red"],[3,"routerLink"],["scrollAmount","2","onmouseover","this.stop();","onmouseout","this.start();"],[3,"click"]],template:function(r,e){1&r&&(t.YNc(0,j,3,2,"ng-container",0),t.ALo(1,"async")),2&r&&t.Q6J("ngIf",t.lcZ(1,1,e.accountService.AppUser$))},dependencies:[c.sg,c.O5,u.rH,c.Ov,c.uU],styles:[".admin[_ngcontent-%COMP%]{margin-top:100px}.container[_ngcontent-%COMP%]{width:100%;height:auto;max-height:300px;overflow:scroll;margin-left:auto;border:2px solid black;border-radius:10px;background-color:#f5fffa;position:relative}"]});var E=d(8909);function $(o,r){if(1&o&&(t.TgZ(0,"tr")(1,"th",20)(2,"div",21),t._UZ(3,"img",22),t.TgZ(4,"div",23)(5,"h5",24),t._uU(6),t.qZA()()()(),t.TgZ(7,"td",25)(8,"strong"),t._uU(9),t.qZA()(),t.TgZ(10,"td",25)(11,"span",26),t._uU(12),t.qZA()(),t.TgZ(13,"td",25)(14,"strong"),t._uU(15),t.qZA()()()),2&o){const e=r.$implicit;t.xp6(3),t.s9C("src",e.prodPicture,t.LSH),t.s9C("alt",e.prodName),t.xp6(3),t.hij(" ",e.prodName," "),t.xp6(3),t.hij("\xa3",e.itemPrice,""),t.xp6(3),t.Oqu(e.quantity),t.xp6(3),t.hij("\xa3",e.itemPrice*e.quantity,"")}}function H(o,r){if(1&o&&(t.TgZ(0,"div",9)(1,"div",10)(2,"div")(3,"div",11)(4,"table",12)(5,"thead")(6,"tr")(7,"th",13)(8,"div",14),t._uU(9,"Product"),t.qZA()(),t.TgZ(10,"th",13)(11,"div",15),t._uU(12,"Price"),t.qZA()(),t.TgZ(13,"th",13)(14,"div",15),t._uU(15,"Quantity"),t.qZA()(),t.TgZ(16,"th",13)(17,"div",15),t._uU(18,"Total"),t.qZA()()()(),t.TgZ(19,"tbody"),t.YNc(20,$,16,6,"tr",16),t.qZA()()()()(),t.TgZ(21,"div",17)(22,"div",18),t._uU(23,"Delivery details "),t.qZA(),t.TgZ(24,"div")(25,"div",19)(26,"p")(27,"strong",3),t._uU(28,"Delivery Name: "),t.qZA(),t.TgZ(29,"strong",4),t._uU(30),t.qZA()(),t.TgZ(31,"p")(32,"strong",3),t._uU(33,"Delivery time: "),t.qZA(),t.TgZ(34,"strong",4),t._uU(35),t.qZA()()()()()()),2&o){const e=t.oxw();t.xp6(20),t.Q6J("ngForOf",e.order.itemOrdered),t.xp6(10),t.Oqu(e.order.delivery.delName),t.xp6(5),t.Oqu(e.order.delivery.delTime)}}class A{constructor(r,e,i,s,a){this.activatedroute=r,this.breadcrumbService=e,this.orderService=i,this.router=s,this.toastr=a,this.errors=null,this.confirm=!1,this.breadcrumbService.set("@OrderDetailed"," ")}ngOnInit(){this.ViewPaidOrder()}ViewPaidOrder(){const r=+this.activatedroute.snapshot.paramMap.get("id");r&&this.orderService.GetAdminOrdersById(r).subscribe({next:e=>{"confirmed"===e.confirmation&&(this.confirm=!0),this.order=e,this.breadcrumbService.set("@OrderDetailed",`Order# ${e.id} - ${e.orderStatus}`)}})}deleteAdminOrder(r){this.orderService.DeleteAdminOrder(r).subscribe({next:e=>{e&&this.toastr.success("Order deleted"),this.router.navigateByUrl("/Admin")},error:e=>{this.toastr.success("Order not deleted"),this.errors=e.errors}})}OrderConfirmation(r){this.orderService.UpdateOrderConfirmation(r).subscribe({next:e=>{this.confirm=!0,e&&this.toastr.success("Order registered as confirmed on customer end"),this.router.navigateByUrl("/Admin")},error:e=>{this.toastr.success("Order not confirmed on customer end"),this.errors=e.errors}})}AdminOrderConfirmation(r,e){if("Confirmed"!=this.ButtonTxt){var i={id:r,Email:e};this.orderService.UpdateAdminOrderConfirmation(i).subscribe({next:s=>{this.confirm=!0,s&&(this.toastr.success("Order confirmed"),this.OrderConfirmation(i)),this.router.navigateByUrl("/Admin")},error:s=>{this.toastr.success("Order not yet confirmed by seller"),this.errors=s.errors}})}else this.toastr.success("Order already confirmed")}get ButtonTxt(){return 1==this.confirm?"Confirmed":"Confirm Order"}}A.\u0275fac=function(r){return new(r||A)(t.Y36(u.gz),t.Y36(E.pm),t.Y36(q.N),t.Y36(u.F0),t.Y36(p._W))},A.\u0275cmp=t.Xpm({type:A,selectors:[["app-order-details-paid"]],decls:48,vars:7,consts:[[1,"container","mt-5"],["class","row",4,"ngIf"],[1,"table",2,"border","3px solid red","width","auto"],[1,"info"],[1,"info2"],[1,"d-flex","justify-content-center"],[1,"text-center",2,"margin","20px"],[1,"btn","btn-success","text-center",2,"width","auto",3,"click"],[1,"text-center",2,"margin","20px","padding-bottom","100px"],[1,"row"],[1,"col-8"],[1,"table-responsive"],[1,"table"],["scope","col",1,"border-0","bg-light"],[1,"p-2","text-uppercase"],[1,"py-2","text-uppercase"],[4,"ngFor","ngForOf"],[1,"col-4"],[1,"bg-light","px-4","py-3","text-uppercase","font-weight-bold"],[1,"row","mt-2",2,"border","5px solid red","height","auto","width","auto"],["scope","row"],[1,"p-2"],[1,"i","mg-fluid",2,"max-height","50px",3,"src","alt"],[1,"ml-3","d-inline-block","align-middle"],[1,"mb-0"],[1,"align-middle"],[1,"font-weight-bold","px-2"]],template:function(r,e){1&r&&(t.TgZ(0,"div",0),t.YNc(1,H,36,3,"div",1),t.TgZ(2,"div")(3,"strong"),t._uU(4,"Customer address details"),t.qZA(),t.TgZ(5,"table",2)(6,"tr")(7,"td")(8,"strong",3),t._uU(9,"Street: "),t.qZA()(),t.TgZ(10,"td")(11,"strong",4),t._uU(12),t.qZA()()(),t.TgZ(13,"tr")(14,"td")(15,"strong",3),t._uU(16,"City: "),t.qZA()(),t.TgZ(17,"td")(18,"strong",4),t._uU(19),t.qZA()()(),t.TgZ(20,"tr")(21,"td")(22,"strong",3),t._uU(23,"Zipcode: "),t.qZA()(),t.TgZ(24,"td")(25,"strong",4),t._uU(26),t.qZA()()(),t.TgZ(27,"tr")(28,"td")(29,"strong",3),t._uU(30,"Country: "),t.qZA()(),t.TgZ(31,"td")(32,"strong",4),t._uU(33),t.qZA()()(),t.TgZ(34,"tr")(35,"td")(36,"strong",3),t._uU(37,"Phone: "),t.qZA()(),t.TgZ(38,"td")(39,"strong",4),t._uU(40),t.qZA()()()()(),t.TgZ(41,"div",5)(42,"div",6)(43,"button",7),t.NdJ("click",function(){return e.AdminOrderConfirmation(e.order.id,e.order.email)}),t._uU(44),t.qZA()(),t.TgZ(45,"div",8)(46,"button",7),t.NdJ("click",function(){return e.deleteAdminOrder(e.order.id)}),t._uU(47,"Delete"),t.qZA()()()()),2&r&&(t.xp6(1),t.Q6J("ngIf",e.order),t.xp6(11),t.Oqu(e.order.shippingAddress.street),t.xp6(7),t.Oqu(e.order.shippingAddress.city),t.xp6(7),t.Oqu(e.order.shippingAddress.zipcode),t.xp6(7),t.Oqu(e.order.shippingAddress.country),t.xp6(7),t.Oqu(e.order.shippingAddress.phone),t.xp6(4),t.Oqu(e.ButtonTxt))},dependencies:[c.sg,c.O5],styles:[".info[_ngcontent-%COMP%]{font-weight:bolder;color:#000}.info2[_ngcontent-%COMP%]{font-weight:700;color:purple}"]});const R=[{path:"",component:x},{path:":id",component:A,data:{breadcrumb:{alias:"OrderDetails"}}}];class h{}h.\u0275fac=function(r){return new(r||h)},h.\u0275mod=t.oAB({type:h}),h.\u0275inj=t.cJS({imports:[u.Bz.forChild(R),u.Bz]});class f{}f.\u0275fac=function(r){return new(r||f)},f.\u0275mod=t.oAB({type:f}),f.\u0275inj=t.cJS({imports:[c.ez,h,l.Is]})}}]);